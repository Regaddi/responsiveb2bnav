@import "normalize.css";
@import "fontello.css";
@import "vars.less";
@import "helpers.less";

* {
	-webkit-box-sizing: border-box;
	-moz-box-sizing: border-box;
	box-sizing: border-box;
}

.left-transition {
	-webkit-transition: margin 300ms ease-in-out, left 300ms ease-in-out;
	-moz-transition: margin 300ms ease-in-out, left 300ms ease-in-out;
	-ms-transition: margin 300ms ease-in-out, left 300ms ease-in-out;
	-o-transition: margin 300ms ease-in-out, left 300ms ease-in-out;
	transition: margin 300ms ease-in-out, left 300ms ease-in-out;
}

html,body {
	height: 100%;
	overflow: hidden;
}

body {
	height: 100%;
	max-height: 100%;
	min-height: 100%;
	overflow: hidden;
	width: 100%;
}

header {
	background: @blue;
	border-bottom: @blueDark;
	.box-shadow(0, 0, 0.25rem, @black);
	position: absolute;
	width: 100%;
	z-index: 20;

	.nav-toggle {
		border: none;
		float: left;
		font-size: 1.5rem;
		height: 2.25rem;
		line-height: 2.25rem;
		padding: 0;
		width: 2.25rem;
		z-index: 30;
	}
	.pagetitle {
		color: @white;
		font-size: 1.25rem;
		font-weight: lighter;
		line-height: 2.25rem;
		margin: 0;
		padding: 0 3rem;
		text-align: center;
		text-shadow: 0 0 4px @black;
		z-index: 25;
	}
}

nav {
	background: rgba(0,0,0,0.9);
	font-size: 120%;
	height: 100%;	
	overflow-y: auto;
	position: absolute;
	width: 80%;
	word-break: break-word;
	z-index: 1;

	&.active {
		margin-left: 0%;

		+.main-container {
			margin-left: 80%;
		}
	}

	ul:extend(.left-transition) {
		left: 0;
		margin: 0;
		padding: 0;
		position: absolute;
		top: 0;
		width: 100%;

		&.left {
			left: -100%;
		}

		li {
			border-bottom: 1px solid @grey;
			cursor: pointer;
			min-height: 2.25rem;
			position: relative;
			-webkit-tap-highlight-color: rgba(0,0,0,0);

			a {
				color: @white;
				display: block;
				padding: 0.5rem 2.25rem 0.5rem 0.5rem;
				word-break: break-all;

				&:active {
					background: @blueDark;
				}
			}
			.subnav-btn {
				background: none;
				border: 0;
				color: @white;
				display: inline-block;
				font-size: 140%;
				height: 2.25rem;
				margin: 0;
				padding: 0;
				position: absolute;
				right: 0;
				top: 50%;
				.translate(0, -50%);
			}
			&.back {
				left: 100%;
				position: absolute;
				top: 0;
				width: 100%;

				> a {
					padding-left: 2.25rem;
					padding-right: 0.5rem;
				}
				>.subnav-btn {
					left: 0;
					right: auto;
				}
			}
			ul {
				clip: rect(0 0 0 0);
				height: 0;
				left: 100%;
				opacity: 0;
				overflow: hidden;
				width: 0;
				&.open {
					clip: auto;
					height: auto;
					left: 0;
					opacity: 1;
					overflow: visible;
					top: 100%;
					width: 100%;
				}
				&.left {
					left: -100%;
				}
			}
		}
	}
}

.main-container:extend(.left-transition) {
	.box-shadow(0, 0, .25rem, @black);
	background-color: @white;
	height: 100%;
	overflow: hidden;
	position: relative;
	width: 100%;
	z-index: 10;

	.content {
		height: 100%;
		overflow-y: auto;
		padding: 2rem 1rem;
		position: absolute;
		top: 0;
		z-index: 10;
	}
}


/* Desktops and laptops ----------- */
// @media screen and (min-width: 920px) {
// 	.main-container {
// 		.no-box-shadow();
// 		height: auto;
// 		max-height: none;
// 		min-height: 0;
// 	}
// 	nav {
// 		background: none;
// 		height: auto;
// 		margin-left: 0;
// 		min-height: 0;
// 		overflow: visible;
// 		position: relative;
// 		width: 100%;
// 		z-index: 15;

// 		ul {
// 			background: @blueDark;
// 			height: 2.25rem;
// 			margin: 0;
// 			padding: 0;
// 			position: relative;

// 			li {
// 				border: none;
// 				display: inline-block;
// 				padding: 0;
// 				position: static;

// 				a {
// 					border-right: 1px solid lighten(@blueDark, 10%);
// 					color: @white;
// 					display: inline-block;
// 					padding: 10px 15px;

// 					&:hover {
// 						background: lighten(@blueDark, 10%);
// 					}
// 				}
// 				.subnav-btn {
// 					border-right: 1px solid lighten(@blueDark, 10%);
// 					font-size: 100%;
// 					left: 0;
// 					line-height: 43px;
// 					position: relative;
// 					right: auto;
// 					top: 0;
// 					transform: none;
// 					-moz-transform: none;
// 					-webkit-transform: none;

// 					&:hover {
// 						background: lighten(@blueDark, 10%);
// 					}

// 					[class^="icon-"]:before {
// 						content: '\e811';
// 					}
// 				}
// 				&.back {
// 					left: 0;
// 					padding: 0;
// 					position: static;
// 					top: 0;
// 					width: auto;
// 				}
// 				ul {
// 					display: none;
// 					&.left {
// 						left: 0;
// 					}
// 				}
// 			}
// 			&.open {
// 				display: block;
// 				position: absolute;
// 				top: 100%;
// 				width: 100%;

// 				.open {
// 					top: 0;
// 				}
// 			}
// 			&.left {
// 				left: 0;
// 			}
// 		}
// 	}
// 	.nav-toggle {
// 		display: none;
// 	}
// }